<!DOCTYPE html>
<HTML lang="en">
    <HEAD>
        <META charset="utf-8">
        <META name="viewport" content="width=device-width, initial-scale=1">
        <TITLE>Online Booking System</TITLE>

        <LINK rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
              integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
              crossorigin="anonymous" referrerpolicy="no-referrer">
        <LINK rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
              crossorigin="anonymous">

        <SCRIPT type="text/javascript" src="/javascript/bookingAPI.js"></SCRIPT>

        <SCRIPT type="text/javascript">
            window.onload = function() {
                id_old_password.setAttribute('class', 'form-control mb-3');
                id_new_password1.setAttribute('class', 'form-control mb-3');
                id_new_password2.setAttribute('class', 'form-control mb-3');
            }
        </SCRIPT>
    </HEAD>
    <BODY>
        <MAIN class="container col-4">

            <HEADER class="pb-3 mt-3 mb-5 border-bottom">
                <h3 class="d-flex align-items-center text-dark text-decoration-none">
                    <i class="fa-solid fa-key"></i>
                    <span>&nbsp;Change Password</span>
                </h3>
            </HEADER>

            <FORM method="post">
                {% csrf_token %}

                {% if form.errors %}
                <DIV>
                    <p class="text-danger fw-bold">
                    {% if form.errors.items|length == 1 %}Please correct the error below.{% else %}Please correct the errors below.{% endif %}
                    </p>
                </DIV>
                {% endif %}

                <p>Please enter your old password for securityâ€™s sake, and then enter your new password twice,
                    so that we can verify you typed it in correctly.</p>

                <div class="row">
                    <div class="col text-danger fw-bold">{{ form.old_password.errors }}</div>
                    <LABEL for="id_old_password" class="form-label">{{ form.old_password.label_tag }}</LABEL>
                    <div class="col">{{ form.old_password }}</div>
                </div>

                <div class="row">
                    <div class="col text-danger fw-bold">{{ form.new_password1.errors }}</div>
                    <LABEL for="id_new_password1" class="form-label">{{ form.new_password1.label_tag }}</LABEL>
                    <div class="col">{{ form.new_password1 }}</div>
                </div>

                {% if form.new_password1.help_text %}
                <div class="row">
                    <div class="col text-success">{{ form.new_password1.help_text|safe }}</div>
                </div>
                {% endif %}

                <div class="row">
                    <div class="col text-danger fw-bold">{{ form.new_password2.errors }}</div>
                    <LABEL for="id_new_password2" class="form-label">{{ form.new_password2.label_tag }}</LABEL>
                    <div class="col">{{ form.new_password2 }}</div>
                </div>

                {% if form.new_password2.help_text %}
                <div class="row">
                    <div class="col text-success">{{ form.new_password2.help_text|safe }}</div>
                </div>
                {% endif %}

                <div class="row justify-content-end">
                    <div class="col-auto">
                        <input type="submit" class="form-control btn btn-primary" value="Change my password">
                    </div>
                    <div class="col-auto">
                        <BUTTON class="btn btn-secondary" type="button"
                            onclick="document.location.href = 'http://localhost:8080/';">Cancel</BUTTON>
                    </div>
                </div>

            </FORM>
        </MAIN>
        <SCRIPT src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"
                integrity="sha512-2rNj2KJ+D8s1ceNasTIex6z4HWyOnEYLVC3FigGOmyQCZc2eBXKgOxQmo3oKLHyfcj53uz4QMsRCWNbLd32Q1g=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></SCRIPT>
        <SCRIPT src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
                crossorigin="anonymous"></SCRIPT>
    </BODY>
</HTML>
